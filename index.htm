<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–æ–ª–æ–Ω—Ç–µ—Ä–ü–∞—Ä–∫</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <style>
        /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ */
        .menu-icon {
        position: fixed;
        top: 15px;
        left: 15px;
        width: 50px;
        height: 50px;
        cursor: pointer;
        z-index: 1000;
        background-color: #2d5016;
        border-radius: 10px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .menu-line {
        width: 70%;
        height: 6px;
        background-color: #629d69;
        margin: 3px 0;
        transition: 0.3s;
        border-radius: 2px;
    }

        .sidebar {
        position: fixed;
        top: 25px; 
        left: 25px; 
        width: 0;
        height: 0; 
        background: rgba(45, 80, 22, 0.3);
        backdrop-filter: blur(100px);
        color: white;
        transition: all 0.3s ease;
        z-index: 999;
        box-shadow: 2px 0 10px #0000004d;
        border-radius: 10px;
        overflow: hidden;
        opacity: 0;
        visibility: hidden;
        padding-top: 40px;
    }

    .sidebar.active {
        width: 200px; 
        height: 240px; 
        min-height: 150px;
        opacity: 2;
        visibility: visible;
        top: 15px;
        left: 15px; 
    }

    .menu-item {
        display: block;
        color: white;
        text-decoration: none;
        margin-top: 20px;
        padding: 15px 25px;
        font-size: 18px;
        transition: 0.3s;
        opacity: 0;
        transform: translateY(-10px);
    }

    .sidebar.active .menu-item {
        opacity: 1;
        transform: translateY(0);
        transition: opacity 0.3s ease 0.2s, transform 0.3s ease 0.2s;
    }

    .menu-item:hover {
        background-color: rgba(45, 80, 22, 0.56);
        text-decoration: none;
        color: white;
        padding-left: px;
    }  
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ª–æ–≥–∏–Ω–∞ */
        .login-page {
            background: linear-gradient(135deg, #2a672673, #2a6c276b);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10001;
            overflow: hidden;
        }
        
        .login-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            overflow: hidden;
            max-width: 400px;
            width: 100%;
        }
        
        .login-header {
            background: #2d5016;
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .login-form {
            padding: 30px;
        }
        
        .form-control {
            border-radius: 10px;
            padding: 12px 15px;
            margin-bottom: 20px;
            border: 2px solid #e1e5ec;
            transition: 0.3s;
        }
        
        .form-control:focus {
            border-color: #8bc34a;
            box-shadow: 0 0 0 0.2rem rgba(139, 195, 74, 0.25);
        }
        
        .btn-login {
            background: #43671a;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            width: 100%;
            transition: 0.3s;
            cursor: pointer;
        }
        
        .btn-login:hover {
            background: #689f38;
            transform: translateY(-2px);
        }
        
        .login-links {
            text-align: center;
            margin-top: 20px;
        }
        
        .login-links a {
            color: #588820;
            text-decoration: none;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ä—Ç—ã */
        .map-page {
            display: none;
            min-height: 100vh;
            background: #f8f9fa;
        }
        
        .navbar {
            background: #2a6726ce !important;
            
        }
        
        .map-container {
            height: 450px;
            border-radius: 1px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        #map {
            height: 100%;
            width: 100%;
        }
        
        .events-sidebar {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            max-height: 600px;
            overflow-y: auto;
        }
        
        .event-card {
            border: 1px solid #e1e5ec;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: 0.3s;
            cursor: pointer;
        }
        
        .event-card:hover {
            border-color: #8bc34a;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 195, 74, 0.2);
        }
        
        .event-card.active {
            border-color: #8bc34a;
            background: #f1f8e9;
        }
        
        .event-date {
            color: #8bc34a;
            font-weight: bold;
            font-size: 14px;
        }
        
        .event-location {
            color: #666;
            font-size: 14px;
            margin: 5px 0;
        }
        
        .btn-volunteer {
            background: #8bc34a;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: 0.3s;
        }
        
        .btn-volunteer:hover {
            background: #689f38;
        }
        
        .user-welcome {
            background: linear-gradient(135deg, #8bc34a, #aed581);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –±–∞–ª—É–Ω–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ */
        .balloon-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2d5016;
        }
        
        .balloon-time {
            color: #8bc34a;
            font-size: 14px;
        }
        
        /* –ø—Ä–æ—Ñ–∏–ª—å */
        .profile-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #f8f9fa;
            z-index: 10000;
            overflow-y: auto;
        }

        .stats-card, .events-card, .achievements-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e1e5ec;
        }

        .stat-item:last-child {
            border-bottom: none;
        }
        
        .stat-value {
        color: #112b00;
        font-size: 18px;
    }

        .upcoming-event {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #8bc34a;
        }

        .event-date {
            color: #8bc34a;
            font-weight: bold;
            font-size: 14px;
        }

        .event-title {
            font-weight: 500;
            margin: 5px 0;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .achievement {
            display: flex;
            align-items: center;
            padding: 15px;
            border-radius: 10px;
            background: #f8f9fa;
            transition: 0.3s;
        }

        .achievement.unlocked {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            border: 2px solid #8bc34a;
        }

        .achievement.locked {
            background: #f5f5f5;
            border: 2px solid #e0e0e0;
            opacity: 0.6;
        }

        .achievement-icon {
            font-size: 30px;
            margin-right: 15px;
        }

        .achievement-text {
            flex-grow: 1;
        }

        .achievement-text strong {
            display: block;
            color: #2d5016;
        }

        .achievement-text small {
            color: #666;
            font-size: 12px;
        }

        .btn-cancel {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
        }
        .bonuses-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 2px solid #e8f5e8;
        }

        .bonuses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .bonus-category {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #8ab656;
            transition: transform 0.3s ease;
        }

        .bonus-category:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(139, 195, 74, 0.2);
        }

        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e1e5ec;
        }

        .category-icon {
            font-size: 24px;
            margin-right: 12px;
        }

        .category-header h5 {
            color: #2d5016;
            margin: 0;
            font-size: 16px;
        }

        .bonus-items {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .bonus-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 8px 0;
        }

        .bonus-badge {
            background: #74a041;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            white-space: nowrap;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .bonus-text {
            color: #555;
            font-size: 13px;
            line-height: 1.4;
            flex-grow: 1;
        }

        .bonus-footer {
            background: #f1f8e9;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #e8f5e8;
        }
        .bonus-stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
    }

    .bonus-stat-card {
        background: #f8f9fa;
        border-radius: 12px;
        padding: 20px;
        border-left: 4px solid #5d8e24;
        transition: transform 0.3s ease;
    }

    .bonus-stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .bonus-stat-header {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
    }

    .bonus-stat-icon {
        font-size: 32px;
        margin-right: 15px;
    }

    .bonus-stat-info {
        flex-grow: 1;
    }

    .bonus-stat-title {
        font-weight: 600;
        color: #2d5016;
        font-size: 16px;
        margin-bottom: 5px;
    }

    .bonus-stat-count {
        font-size: 20px;
        font-weight: bold;
        color: #1d1b1b;
    }

    .bonus-progress {
        height: 8px;
        background: #e1e5ec;
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 10px;
    }

    .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #8bc34a, #689f38);
        border-radius: 4px;
        transition: width 0.3s ease;
    }

    .bonus-stat-desc {
        font-size: 12px;
        color: #666;
        text-align: center;
    }

    .bonus-stat-available {
        display: flex;
        gap: 8px;
        margin-bottom: 10px;
        flex-wrap: wrap;
    }

    .available-badge {
        background: #5d8e24;
        color: white;
        padding: 4px 10px;
        border-radius: 15px;
        font-size: 11px;
        font-weight: bold;
    }

    .bonus-details {
        background: #2a6c2738;
        border-radius: 10px;
        padding: 20px;
    }

    .bonus-details-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .bonus-detail-item {
        display: flex;
        align-items: center;
        padding: 12px;
        background: white;
        border-radius: 8px;
        border-left: 3px solid #5d8e24;
    }

    .bonus-detail-icon {
        font-size: 20px;
        margin-right: 15px;
        width: 30px;
        text-align: center;
    }

    .bonus-detail-text {
        flex-grow: 1;
    }

    .bonus-detail-text strong {
        display: block;
        color: #2d5016;
        font-size: 14px;
        margin-bottom: 3px;
    }

    .bonus-detail-text small {
        color: #666;
        font-size: 12px;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
    @media (max-width: 768px) {
        .bonuses-grid {
            grid-template-columns: 1fr;
        }
        
        .bonus-item {
            flex-direction: column;
            gap: 5px;
        }
        
        .bonus-badge {
            align-self: flex-start;
        }
        
        .bonuses-card {
            padding: 20px;
        }

        .bonus-stats-grid {
            grid-template-columns: 1fr;
        }
        
        .bonus-stat-card {
            padding: 15px;
        }
        
        .bonus-stat-icon {
            font-size: 28px;
            margin-right: 12px;
        }
    }
    </style>
</head>
<body>
    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ -->
    <div class="login-page" id="loginPage">
        <div class="login-container fade-in">
            <div class="login-header">
                <h3>üåø–í–æ–ª–æ–Ω—Ç–µ—Ä–ü–∞—Ä–∫</h3>
                <p class="mb-0">–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç</p>
            </div>
            
            <div class="login-form">
                <form id="loginForm">
                    <div class="form-group">
                        <input type="email" class="form-control" placeholder="Email" required>
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" placeholder="–ü–∞—Ä–æ–ª—å" required>
                    </div>
                    <button type="submit" class="btn-login">–í–æ–π—Ç–∏</button>
                </form>
                
                <div class="login-links">
                    <a href="#" onclick="showMessage('–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</a>
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ä—Ç—ã -->
    <div class="map-page" id="mapPage">
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="navbar navbar-dark">
            <div class="container">
                <a class="navbar-brand" href="project.htm">üåø –í–æ–ª–æ–Ω—Ç–µ—Ä–ü–∞—Ä–∫</a>
                <div class="navbar-nav ml-auto">
                    <button class="btn btn-outline-light btn-sm" onclick="showLoginPage()">–í—ã–π—Ç–∏</button>
                </div>
            </div>
        </nav>

        <div class="container mt-4">
            <!-- –ú–µ–Ω—é -->
            <div class="menu-icon" id="menuButton">
                <div class="menu-line"></div>
                <div class="menu-line"></div>
                <div class="menu-line"></div>
            </div>
            <div class="sidebar" id="sidebar">
                <a href="#" class="menu-item" onclick="showProfilePage()">–ü—Ä–æ—Ñ–∏–ª—å</a>
                <a href="#" class="menu-item" onclick="showParksPage()">–ü–∞—Ä–∫–∏</a>
            </div>

            <div class="row fade-in text-center">
                <div class="col-12 py-5">
                    <h2><b>–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</b></h2>
                    <p>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —É–±–æ—Ä–∫–∞–º –≤ –ø–∞—Ä–∫–∞—Ö –ú–æ—Å–∫–≤—ã</p>
                </div>
            </div>
            
            <div class="row">
                <!-- –ö–∞—Ä—Ç–∞ -->
                <div class="col-12 mb-4">
                    <div class="map-container">
                        <div id="map"></div>
                    </div>
                </div>
                
                <!-- –°–ø–∏—Å–æ–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π -->
                <div class="col-12">
                    <div class="events-sidebar">
                        <h5 style="color: #112b00; margin-bottom: 20px;">–ë–ª–∏–∂–∞–π—à–∏–µ —É–±–æ—Ä–∫–∏</h5>
                        
                        <div class="event-card" data-lat="55.728955" data-lng="37.603579" onclick="focusOnEvent('gorky')" id="card-gorky">
                            <div class="event-date">25 –Ω–æ—è–±—Ä—è, 10:00-13:00</div>
                            <h6>–£–±–æ—Ä–∫–∞ –≤ –ü–∞—Ä–∫–µ –ì–æ—Ä—å–∫–æ–≥–æ</h6>
                            <div class="event-location">–ö—Ä—ã–º—Å–∫–∏–π –í–∞–ª, 9</div>
                            <p style="font-size: 14px; color: #555;">–°–±–æ—Ä —É –≥–ª–∞–≤–Ω–æ–≥–æ –≤—Ö–æ–¥–∞. –í–∑—è—Ç—å —Å —Å–æ–±–æ–π: –ø–∞–∫–µ—Ç—ã, –≥—Ä–∞–±–ª–∏, –ø–µ—Ä—á–∞—Ç–∫–∏.</p>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 12px; color: #888;"></span>
                                <button class="btn-volunteer" onclick="event.stopPropagation(); joinEvent('gorky')">–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>
                        
                        <div class="event-card" data-lat="55.709683" data-lng="37.597258" onclick="focusOnEvent('neskuchny')" id="card-neskuchny">
                            <div class="event-date">15 –¥–µ–∫–∞–±—Ä—è, 14:00-17:00</div>
                            <h6>–£–±–æ—Ä–∫–∞ –≤ –ù–µ—Å–∫—É—á–Ω–æ–º —Å–∞–¥—É</h6>
                            <div class="event-location">–õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 20</div>
                            <p style="font-size: 14px; color: #555;">–°–±–æ—Ä —É –≥–ª–∞–≤–Ω–æ–≥–æ –≤—Ö–æ–¥–∞. –í–∑—è—Ç—å —Å —Å–æ–±–æ–π: –ª–æ–ø–∞—Ç—É.</p>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 12px; color: #888;"></span>
                                <button class="btn-volunteer" onclick="event.stopPropagation(); joinEvent('neskuchny')">–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>
                        
                        <div class="event-card" data-lat="55.791348" data-lng="37.677933" onclick="focusOnEvent('sokolniki')" id="card-sokolniki">
                            <div class="event-date">20 –¥–µ–∫–∞–±—Ä—è, 11:00-14:00</div>
                            <h6>–£–±–æ—Ä–∫–∞ –≤ –°–æ–∫–æ–ª—å–Ω–∏–∫–∞—Ö</h6>
                            <div class="event-location">–°–æ–∫–æ–ª—å–Ω–∏—á–µ—Å–∫–∏–π –í–∞–ª, 1</div>
                            <p style="font-size: 14px; color: #555;">–°–±–æ—Ä —É –≥–ª–∞–≤–Ω–æ–≥–æ –≤—Ö–æ–¥–∞. –í–∑—è—Ç—å —Å —Å–æ–±–æ–π: –ª–æ–ø–∞—Ç—É.</p>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 12px; color: #888;"></span>
                                <button class="btn-volunteer" onclick="event.stopPropagation(); joinEvent('sokolniki')">–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>

                        <div class="event-card" data-lat="55.787152" data-lng="37.771609" onclick="focusOnEvent('izmaily')" id="card-izmaily">
                            <div class="event-date">25 –¥–µ–∫–∞–±—Ä—è, 12:00-15:00</div>
                            <h6>–ü—Ä–µ–¥–Ω–æ–≤–æ–≥–æ–¥–Ω—è—è —É–±–æ—Ä–∫–∞ –≤ –ò–∑–º–∞–π–ª–æ–≤–æ</h6>
                            <div class="event-location">–ù–∞—Ä–æ–¥–Ω—ã–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 17</div>
                            <p style="font-size: 14px; color: #555;">–°–±–æ—Ä —É –≥–ª–∞–≤–Ω–æ–≥–æ –≤—Ö–æ–¥–∞. –í–∑—è—Ç—å —Å —Å–æ–±–æ–π: –ª–æ–ø–∞—Ç—É.</p>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 12px; color: #888;"></span>
                                <button class="btn-volunteer" onclick="event.stopPropagation(); joinEvent('izmaily')">–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ë–ª–æ–∫ –±–æ–Ω—É—Å–æ–≤ –ü–ï–†–ï–ú–ï–©–ï–ù –í–ù–£–¢–†–¨ –ö–û–ù–¢–ï–ô–ù–ï–†–ê -->
            <div class="row">
                <div class="col-12 mt-4">
                    <div class="bonuses-card">
                        <h4 style="color: #112b00; margin-bottom: 25px; text-align: center;">–ë–æ–Ω—É—Å—ã –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö</h4>

                        <div class="bonuses-grid">
                            <!-- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ –±–æ–Ω—É—Å—ã -->
                            <div class="bonus-category">
                                <div class="category-header">
                                    <div class="category-icon">üöá</div>
                                    <h5>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ –±–æ–Ω—É—Å—ã</h5>
                                </div>
                                <div class="bonus-items">
                                    <div class="bonus-item">
                                        <span class="bonus-badge">1 –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</span>
                                        <span class="bonus-text">1 –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞ –Ω–∞ –º–µ—Ç—Ä–æ</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">5 –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</span>
                                        <span class="bonus-text">–ê–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ 1 –¥–µ–Ω—å –Ω–∞ –≤–µ—Å—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–ö–∞—Ä—à–µ—Ä–∏–Ω–≥</span>
                                        <span class="bonus-text">–ü—Ä–æ–º–æ–∫–æ–¥—ã –Ω–∞ 15-20% (–Ø–Ω–¥–µ–∫—Å.–î—Ä–∞–π–≤, Delimobil)</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–¢–∞–∫—Å–∏</span>
                                        <span class="bonus-text">–°–∫–∏–¥–∫–∞ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–¢–∞–∫—Å–∏ –≤ –¥–µ–Ω—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</span>
                                    </div>
                                </div>
                            </div>

                            <!-- –ù–µ–º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã -->
                            <div class="bonus-category">
                                <div class="category-header">
                                    <div class="category-icon">‚≠ê</div>
                                    <h5>–ù–µ–º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã</h5>
                                </div>
                                <div class="bonus-items">
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</span>
                                        <span class="bonus-text">–ó–∞–ø–∏—Å—å –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–†–µ–∑—é–º–µ</span>
                                        <span class="bonus-text">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –±–ª–∞–≥–æ–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–°—Ç–∞—Ç—É—Å</span>
                                        <span class="bonus-text">–í–æ–ª–æ–Ω—Ç–µ—Ä—Å–∫–∞—è –∫–Ω–∏–∂–∫–∞</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–°–æ–æ–±—â–µ—Å—Ç–≤–æ</span>
                                        <span class="bonus-text">–î–æ—Å—Ç—É–ø –∫ –∑–∞–∫—Ä—ã—Ç—ã–º –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º</span>
                                    </div>
                                </div>
                            </div>

                            <!-- –ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã -->
                            <div class="bonus-category">
                                <div class="category-header">
                                    <div class="category-icon">üèõÔ∏è</div>
                                    <h5>–ì–æ—Ä–æ–¥—Å–∫–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</h5>
                                </div>
                                <div class="bonus-items">
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–ú—É–∑–µ–∏</span>
                                        <span class="bonus-text">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤—Ö–æ–¥ –ø–æ—Å–ª–µ —É–±–æ—Ä–∫–∏ –≤ –ø–∞—Ä–∫–µ</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–í—ã—Å—Ç–∞–≤–∫–∏</span>
                                        <span class="bonus-text">–°–∫–∏–¥–∫–∏ –Ω–∞ –≥–æ—Ä–æ–¥—Å–∫–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–ö–∞—Ñ–µ</span>
                                        <span class="bonus-text">–°–∫–∏–¥–∫–∏ –≤ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏—Ö –∑–∞–≤–µ–¥–µ–Ω–∏—è—Ö</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–ü–∞—Ä–∫–∏</span>
                                        <span class="bonus-text">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</span>
                                    </div>
                                </div>
                            </div>

                            <!-- –†–∏—Ç–µ–π–ª-–ø–∞—Ä—Ç–Ω–µ—Ä—ã -->
                            <div class="bonus-category">
                                <div class="category-header">
                                    <div class="category-icon">üõçÔ∏è</div>
                                    <h5>–ü–∞—Ä—Ç–Ω–µ—Ä—ã-—Ä–∏—Ç–µ–π–ª–µ—Ä—ã</h5>
                                </div>
                                <div class="bonus-items">
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–°–ø–æ—Ä—Ç–º–∞—Å—Ç–µ—Ä</span>
                                        <span class="bonus-text">–°–∫–∏–¥–∫–∏ –Ω–∞ –æ–¥–µ–∂–¥—É –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–î–µ–∫–∞—Ç–ª–æ–Ω</span>
                                        <span class="bonus-text">–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–ö–Ω–∏–∂–Ω—ã–µ</span>
                                        <span class="bonus-text">–°–∫–∏–¥–∫–∏ –Ω–∞ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—É</span>
                                    </div>
                                    <div class="bonus-item">
                                        <span class="bonus-badge">–≠–∫–æ-–º–∞–≥–∞–∑–∏–Ω—ã</span>
                                        <span class="bonus-text">–°–∫–∏–¥–∫–∏ –Ω–∞ —ç–∫–æ–ª–æ–≥–∏—á–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="bonus-footer text-center mt-4">
                            <p style="color: #454545; font-size: 14px; margin: 0;">
                                <strong>–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å—ã:</strong> –£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö, –Ω–∞–∫–∞–ø–ª–∏–≤–∞–π—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- –ó–∞–∫—Ä—ã—Ç–∏–µ container -->
    </div> <!-- –ó–∞–∫—Ä—ã—Ç–∏–µ map-page -->

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div class="profile-page" id="profilePage">
        <nav class="navbar navbar-expand-lg navbar-dark" style="background: #2d5016;">
            <div class="container">
                <a class="navbar-brand" href="#" onclick="showMapPage()">üåø –í–æ–ª–æ–Ω—Ç–µ—Ä–ü–∞—Ä–∫</a>
                <div class="navbar-nav ml-auto">
                    <button class="btn btn-outline-light btn-sm" onclick="showMapPage()">
                        ‚Üê –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </nav>

        <div class="container mt-4">
            <div class="row">
                <div class="col-12">
                    <div class="profile-header text-center mb-5">
                        <div class="profile-avatar" style="font-size: 80px; margin-bottom: 15px">üëë</div>
                        <h2 style="color: #1d1b1b;">–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞</h2>
                        <p class="text-muted">anna.volunteer@mail.ru</p>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <div class="stats-card">
                        <h4 style="color: #112b00; margin-bottom: 20px;">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h4>
                        <div class="stat-item">
                            <span>–£—á–∞—Å—Ç–∏–π –≤ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö:</span>
                            <strong class="stat-value">15</strong>
                        </div>
                        <div class="stat-item">
                            <span>–í—Å–µ–≥–æ —á–∞—Å–æ–≤ –≤–æ–ª–æ–Ω—Ç–µ—Ä—Å—Ç–≤–∞:</span>
                            <strong class="stat-value">120</strong>
                        </div>
                        <div class="stat-item">
                            <span>–í–æ–ª–æ–Ω—Ç–µ—Ä —Å:</span>
                            <strong class="stat-value">–º–∞—Ä—Ç 2024</strong>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 mb-4">
                    <div class="stats-card">
                        <h4 style="color: #2d5016; margin-bottom: 20px;">üéÅ –ú–æ–∏ –±–æ–Ω—É—Å—ã</h4>

                        <div class="bonus-stats-grid">
                            <!-- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ –±–æ–Ω—É—Å—ã -->
                            <div class="bonus-stat-card">
                                <div class="bonus-stat-header">
                                    <div class="bonus-stat-icon">üöá</div>
                                    <div class="bonus-stat-info">
                                        <div class="bonus-stat-title">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</div>
                                        <div class="bonus-stat-count">3 –∏–∑ 5</div>
                                    </div>
                                </div>
                                <div class="bonus-progress">
                                    <div class="progress-bar" style="width: 60%"></div>
                                </div>
                                <div class="bonus-stat-desc">–î–æ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ –Ω–∞ 1 –¥–µ–Ω—å</div>
                            </div>

                            <!-- –ù–µ–º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã -->
                            <div class="bonus-stat-card">
                                <div class="bonus-stat-header">
                                    <div class="bonus-stat-icon">‚≠ê</div>
                                    <div class="bonus-stat-info">
                                        <div class="bonus-stat-title">–ü—Ä–∏–≤–∏–ª–µ–≥–∏–∏</div>
                                        <div class="bonus-stat-count">8/10</div>
                                    </div>
                                </div>
                                <div class="bonus-progress">
                                    <div class="progress-bar" style="width: 80%"></div>
                                </div>
                                <div class="bonus-stat-desc">–î–æ –≤–æ–ª–æ–Ω—Ç–µ—Ä–∞ –º–µ—Å—è—Ü–∞</div>
                            </div>

                            <!-- –ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–µ –±–æ–Ω—É—Å—ã -->
                            <div class="bonus-stat-card">
                                <div class="bonus-stat-header">
                                    <div class="bonus-stat-icon">üèõÔ∏è</div>
                                    <div class="bonus-stat-info">
                                        <div class="bonus-stat-title">–ì–æ—Ä–æ–¥—Å–∫–∏–µ</div>
                                        <div class="bonus-stat-count">2 –¥–æ—Å—Ç—É–ø–Ω–æ</div>
                                    </div>
                                </div>
                                <div class="bonus-stat-available">
                                    <span class="available-badge">–ú—É–∑–µ–∏</span>
                                    <span class="available-badge">–ö–∞—Ñ–µ</span>
                                </div>
                                <div class="bonus-stat-desc">–ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã</div>
                            </div>

                            <!-- –†–∏—Ç–µ–π–ª –±–æ–Ω—É—Å—ã -->
                            <div class="bonus-stat-card">
                                <div class="bonus-stat-header">
                                    <div class="bonus-stat-icon">üõçÔ∏è</div>
                                    <div class="bonus-stat-info">
                                        <div class="bonus-stat-title">–ú–∞–≥–∞–∑–∏–Ω—ã</div>
                                        <div class="bonus-stat-count">4 —Å–∫–∏–¥–∫–∏</div>
                                    </div>
                                </div>
                                <div class="bonus-stat-available">
                                    <span class="available-badge">-15%</span>
                                    <span class="available-badge">-20%</span>
                                    <span class="available-badge">-10%</span>
                                </div>
                                <div class="bonus-stat-desc">–î–µ–π—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</div>
                            </div>
                        </div>

                        <!-- –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –±–æ–Ω—É—Å–æ–≤ -->
                        <div class="bonus-details mt-4">
                            <h6 style="color: #2d5016; margin-bottom: 15px;">üìã –ê–∫—Ç–∏–≤–Ω—ã–µ –±–æ–Ω—É—Å—ã</h6>
                            <div class="bonus-details-list">
                                <div class="bonus-detail-item">
                                    <div class="bonus-detail-icon">üé´</div>
                                    <div class="bonus-detail-text">
                                        <strong>2 –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏ –Ω–∞ –º–µ—Ç—Ä–æ</strong>
                                        <small>–î–µ–π—Å—Ç–≤—É—é—Ç –¥–æ 30.12.2024</small>
                                    </div>
                                </div>
                                <div class="bonus-detail-item">
                                    <div class="bonus-detail-icon">üèõÔ∏è</div>
                                    <div class="bonus-detail-text">
                                        <strong>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤—Ö–æ–¥ –≤ –ü–∞—Ä–∫ –ì–æ—Ä—å–∫–æ–≥–æ</strong>
                                        <small>–ü–æ QR-–∫–æ–¥—É</small>
                                    </div>
                                </div>
                                <div class="bonus-detail-item">
                                    <div class="bonus-detail-icon">‚òï</div>
                                    <div class="bonus-detail-text">
                                        <strong>–°–∫–∏–¥–∫–∞ 15% –≤ –∫–æ—Ñ–µ–π–Ω—è—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤</strong>
                                        <small>–ü—Ä–æ–º–æ–∫–æ–¥: VOLONTER15</small>
                                    </div>
                                </div>
                                <div class="bonus-detail-item">
                                    <div class="bonus-detail-icon">üõçÔ∏è</div>
                                    <div class="bonus-detail-text">
                                        <strong>–°–∫–∏–¥–∫–∞ 20% –≤ –°–ø–æ—Ä—Ç–º–∞—Å—Ç–µ—Ä–µ</strong>
                                        <small>–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ 25.12.2024</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 mb-4">
                    <div class="stats-card">
                        <h4 style="color: #2d5016; margin-bottom: 20px;">–ú–æ–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h4>
                        <div class="upcoming-event">
                            <div class="event-info">
                                <div class="event-date">–ó–∞–≤—Ç—Ä–∞, 10:00-13:00</div>
                                <div class="event-title">–£–±–æ—Ä–∫–∞ –≤ –ü–∞—Ä–∫–µ –ì–æ—Ä—å–∫–æ–≥–æ</div>
                                <div class="event-location">–ö—Ä—ã–º—Å–∫–∏–π –í–∞–ª, 9</div>
                            </div>
                        </div>
                        <div class="upcoming-event">
                            <div class="event-info">
                                <div class="event-date">15 –¥–µ–∫–∞–±—Ä—è, 14:00-17:00</div>
                                <div class="event-title">–£–±–æ—Ä–∫–∞ –≤ –ù–µ—Å–∫—É—á–Ω–æ–º —Å–∞–¥—É</div>
                                <div class="event-location">–õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 20</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç—ã API -->
    <script src="https://api-maps.yandex.ru/2.1/?apikey=–≤–∞—à_api_–∫–ª—é—á&lang=ru_RU" type="text/javascript"></script>
    
    <script>
        let map;
        let placemarks = [];

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function showLoginPage() {
            document.getElementById('loginPage').style.display = 'flex';
            document.getElementById('mapPage').style.display = 'none';
            document.getElementById('profilePage').style.display = 'none';
        }

        function showMapPage() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('mapPage').style.display = 'block';
            document.getElementById('profilePage').style.display = 'none';
            setTimeout(initMap, 100);
        }

        function showProfilePage() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('mapPage').style.display = 'none';
            document.getElementById('profilePage').style.display = 'block';
            closeMenu();
        }

        function showParksPage() {
            alert('–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ü–∞—Ä–∫–∏" —É–∂–µ –æ—Ç–∫—Ä—ã—Ç–∞');
            closeMenu();
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        function showMessage(text) {
            alert(text);
        }
        
        // –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—é
        function joinEvent(eventId) {
            alert('üéâ –í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ!');
        }
        
        // –§–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏
        function focusOnEvent(eventId) {
            const eventData = getEventData(eventId);
            if (eventData && placemarks[eventId]) {
                map.setCenter([eventData.coords[0], eventData.coords[1]], 16);
                placemarks[eventId].balloon.open();
                document.querySelectorAll('.event-card').forEach(card => card.classList.remove('active'));
                document.getElementById(`card-${eventId}`).classList.add('active');
            }
        }

        // –î–∞–Ω–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
        function getEventData(eventId) {
            const events = {
                'gorky': {
                    coords: [55.728955, 37.603579],
                    title: '–£–±–æ—Ä–∫–∞ –≤ –ü–∞—Ä–∫–µ –ì–æ—Ä—å–∫–æ–≥–æ',
                    time: '–ó–∞–≤—Ç—Ä–∞, 10:00-13:00',
                    address: '–ö—Ä—ã–º—Å–∫–∏–π –í–∞–ª, 9',
                    description: '–°–±–æ—Ä —É –≥–ª–∞–≤–Ω–æ–≥–æ –≤—Ö–æ–¥–∞. –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è. –û–±–µ–¥ –≤–∫–ª—é—á–µ–Ω.'
                },
                'neskuchny': {
                    coords: [55.709683, 37.597258],
                    title: '–£–±–æ—Ä–∫–∞ –≤ –ù–µ—Å–∫—É—á–Ω–æ–º —Å–∞–¥—É',
                    time: '15 –¥–µ–∫–∞–±—Ä—è, 14:00-17:00',
                    address: '–õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 20',
                    description: '–£–±–æ—Ä–∫–∞ –æ–ø–∞–≤—à–µ–π –ª–∏—Å—Ç–≤—ã –∏ –º—É—Å–æ—Ä–∞. –†–∞–±–æ—Ç–∞ –≤ –Ω–µ–±–æ–ª—å—à–∏—Ö –≥—Ä—É–ø–ø–∞—Ö.'
                },
                'sokolniki': {
                    coords: [55.791348, 37.677933],
                    title: '–£–±–æ—Ä–∫–∞ –≤ –°–æ–∫–æ–ª—å–Ω–∏–∫–∞—Ö',
                    time: '20 –¥–µ–∫–∞–±—Ä—è, 11:00-14:00',
                    address: '–°–æ–∫–æ–ª—å–Ω–∏—á–µ—Å–∫–∏–π –í–∞–ª, 1',
                    description: '–†–∞—Å—á–∏—Å—Ç–∫–∞ –¥–æ—Ä–æ–∂–µ–∫ –æ—Ç —Å–Ω–µ–≥–∞ –∏ —É–±–æ—Ä–∫–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏. –¢–µ–ø–ª—ã–π —á–∞–π –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω.'
                },
                'izmaily': {
                    coords: [55.787152, 37.771609],
                    title: '–ü—Ä–µ–¥–Ω–æ–≤–æ–≥–æ–¥–Ω—è—è —É–±–æ—Ä–∫–∞ –≤ –ò–∑–º–∞–π–ª–æ–≤–æ',
                    time: '25 –¥–µ–∫–∞–±—Ä—è, 12:00-15:00',
                    address: '–ù–∞—Ä–æ–¥–Ω—ã–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 17',
                    description: '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∞—Ä–∫–∞ –∫ –ù–æ–≤–æ–º—É –≥–æ–¥—É. –£–∫—Ä–∞—à–µ–Ω–∏–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏.'
                }
            };
            return events[eventId];
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
        function initMap() {
            if (typeof ymaps === 'undefined') {
                document.getElementById('map').innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; height: 100%; background: #e1e5ec; color: #666; text-align: center; padding: 20px;">
                        <div>
                            <h4>–ö–∞—Ä—Ç–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</h4>
                            <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç–∞ —Å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏</p>
                        </div>
                    </div>
                `;
                return;
            }

            ymaps.ready(function() {
                map = new ymaps.Map('map', {
                    center: [55.7558, 37.6173],
                    zoom: 11,
                    controls: ['zoomControl', 'fullscreenControl']
                });

                const eventIds = ['gorky', 'neskuchny', 'sokolniki', 'izmaily'];
                
                eventIds.forEach(eventId => {
                    const eventData = getEventData(eventId);
                    if (eventData) {
                        const placemark = new ymaps.Placemark(
                            eventData.coords,
                            {
                                balloonContentHeader: `<div class="balloon-title">${eventData.title}</div>`,
                                balloonContentBody: `
                                    <div class="balloon-time">${eventData.time}</div>
                                    <div>üìç ${eventData.address}</div>
                                    <div style="margin-top: 10px;">${eventData.description}</div>
                                    <button onclick="joinEvent('${eventId}')" style="margin-top: 10px; background: #8bc34a; color: white; border: none; padding: 8px 15px; border-radius: 15px; cursor: pointer;">
                                        –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
                                    </button>
                                `,
                                hintContent: eventData.title
                            },
                            {
                                preset: 'islands#greenIcon',
                                balloonCloseButton: true,
                                hideIconOnBalloonOpen: false
                            }
                        );

                        placemark.events.add('click', function() {
                            document.querySelectorAll('.event-card').forEach(card => card.classList.remove('active'));
                            document.getElementById(`card-${eventId}`).classList.add('active');
                        });

                        map.geoObjects.add(placemark);
                        placemarks[eventId] = placemark;
                    }
                });
            });
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–µ–Ω—é
        function toggleMenu() {
            const sidebar = document.getElementById('sidebar');
            const menuButton = document.getElementById('menuButton');
            sidebar.classList.toggle('active');
            menuButton.classList.toggle('active');
        }

        function closeMenu() {
            const sidebar = document.getElementById('sidebar');
            const menuButton = document.getElementById('menuButton');
            sidebar.classList.remove('active');
            menuButton.classList.remove('active');
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = this.querySelector('input[type="email"]').value;
            const password = this.querySelector('input[type="password"]').value;
            
            if (email && password) {
                showMapPage();
            } else {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            showLoginPage();
            
            const menuButton = document.getElementById('menuButton');
            const sidebar = document.getElementById('sidebar');
            
            if (menuButton && sidebar) {
                menuButton.addEventListener('click', function(e) {
                    e.stopPropagation();
                    toggleMenu();
                });
                
                document.addEventListener('click', function(e) {
                    if (sidebar.classList.contains('active') && 
                        !sidebar.contains(e.target) && 
                        !menuButton.contains(e.target)) {
                        closeMenu();
                    }
                });
            }
        });
    </script>
</body>
</html>